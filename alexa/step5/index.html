<html lang="en">

<head>
    <title>WRKSHP
         | Step 5
    </title>
    <!-- CSS and JS -->
    <link  rel="stylesheet" href="/css/bootstrap.css" /><link  rel="stylesheet" href="/css/theme.css" /><link  rel="stylesheet" href="/css/style.css" />
        <script defer="defer"  src="/js/jquery.js"></script><script defer="defer"  src="/js/bootstrap.js"></script><script defer="defer"  src="/js/scripts.js"></script>
</head>

<body>
    <!-- navbar -->
    <nav id="mainNav" class="navbar navbar-default navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span> Menu <i class="fa fa-bars"></i>
                </button>
                <a class="navbar-brand" href="/">WRKSHP</a>
            </div>

            <!-- Nav links -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
              <ul class="nav navbar-nav">


                
                <li class="dropdown ">
                  <a id="dLabel" data-target="#" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                    Alexa
                    <span class="caret"></span>
                  </a>
                  <ul class="dropdown-menu" aria-labelledby="dLabel">
                    <li>
                      <a href="/alexa">Get Started</a>
                    </li>
                    <li>
                      <a href="/alexa/step1">Step 1: A New Skill</a>
                    </li>
                    <li>
                      <a href="/alexa/step2">Step 2: Interaction Model</a>
                    </li>
                    <li>
                      <a href="/alexa/step3">Step 3: Skill Configuration</a>
                    </li>
                    <li>
                      <a href="/alexa/step4">Step 4: Coding Your Skill: The Intent</a>
                    </li>
                    <li>
                      <a href="/alexa/step5">Step 5: Coding Your Skill: Pokemon Name</a>
                    </li>
                    <li>
                      <a href="/alexa/step6">Step 6: Coding Your Skill: The Help Intent</a>
                    </li>
                    <li>
                      <a href="/alexa/step7">Step 7: Configuring Lambda</a>
                    </li>
                    <li>
                      <a href="/alexa/step8">Step 8: Testing and Debugging</a>
                    </li>
                    <li>
                      <a href="/alexa/step9">Step 9: Next Steps</a>
                    </li>
                  </ul>
                </li>
                <li class="">
                  <a href="/alexa/code">Code</a>
                </li>
                <li class="">
                  <a href="/alexa/concepts">Concepts</a>
                </li>
                <li class="">
                  <a href="/alexa/resources">Resources</a>
                </li>
              </ul>
              <ul class="nav navbar-nav navbar-right">
                <li class="">
                  <a href="/contact.html">Contact</a>
                </li>
              </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>

    <div class="container" style="margin-top: 71px;">
	<h1>Coding Your Skill: Pokemon Name</h1>

	<h2>get_pokemon_name</h2>

	<p>Our intent calls the function <span class="code">get_pokemon_name</span>, so let's navigate to that function in the code and fill that out.</p>

	<p>We start off with the following:</p>

	<pre>
def get_pokemon_name(intent, session):
    session_attributes = {}

    reprompt_text = None

    #TODO: Get the pokemon's name

    return build_response(session_attributes, build_speechlet_response(
        intent['name'], speech_output, reprompt_text, should_end_session))</pre>

    <p>To start off, we want to recognize what our intent looks like. It's essentially a dictionary that would look like the following:</p>

    <pre>
# You don't have to copy this down!
intent: {
    ...
    'slots': {
        'PokedexNumber': {
            'name': 'PokedexNumber',
            'value': '25'
        }
    }
}</pre>

	<p>The <span class="code">value</span> in our intent is what we're interested in using. This is the value of the <span class="code">POKEMON_SLOT_NAME</span>, which if you recall, is what we've defined as our slot name when we were configuring our interaction model.</p>

	<p>First, we want to make sure that this <span class="code">POKEMON_SLOT_NAME</span> is in the intents. We'll do a quick check like so:</p>

	<pre>if POKEMON_SLOT_NAME in intent['slots']:</pre>

	<p>Now, we'll want to get the Pokemon number, or the <span class="code">value</span> in the <span class>intent</span> dictionary above.</p>

	<pre>pokemon_number = intent['slots'][POKEMON_SLOT_NAME]['value']</pre>

	<p>From the Pokemon number, we want to get the name of the Pokemon. We've provided a <span class="code">get_pokemon</span> function for you already, but here's what it looks like:</p>

	<pre>
def get_pokemon(index):
    """
    Given a pokemon index, return the pokemon name.
    """
    if not POKEMON_PARSED:
        parse_pokemon()

    return POKEMON_DICT[str(index)]</pre>

    <p>To get the Pokemon's name, we'll call this function with our pokemon number.</p>

    <pre>pokemon_name = get_pokemon(pokemon_number)</pre>

    <p>Now that we have the name, we'll want to construct a response for Alexa, rather than just having her say "Pikachu". We'll do this by using a custom <span class="code">speech_output</span>.</p>

    <pre>speech_output = "Pokedex entry " + pokemon_number + " is named " + pokemon_name + "."</pre>

    <p>This speech output will also be displayed on your Alexa Companion app after you've made the request, so make sure to properly punctuate the response.</p>

    <h2>Catching Intent Errors</h2>

    <p>Now, to tie off the if statement we just built, we want to set up an else. This is in the case that our <span class="code">POKEMON_SLOT_NAME</span> is not in our slots. We'll simply wrap it up with a "Please try again" statement from Alexa.</p>

    <pre>
else:
    speech_output = "I'm not sure what you mean by that. " \
                    "Please try again."</pre>

    <p>The final thing in this function is the <span class="code">return</span> statement, which builds the speech output into something that Alexa can understand and say out loud to you.</p>

</div>

<div class="container btn-container">
	<div class="left">
		<a href="/alexa/step4" class="btn btn-secondary">← Previous</a>
	</div>
	<div class="right">
		<a href="/alexa/step6" class="btn btn-secondary">Next →</a>
	</div>
</div>

</body>

</html>
